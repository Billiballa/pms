<div>

  <form [formGroup]="form" (ngSubmit)="onSubmit(picker_Start, picker_End)">

    <mat-grid-list cols="1"  [rowHeight]="70" style="margin-top: 40px">

      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <mat-form-field class="example-full-width">
          <input [formControl]="title" matInput placeholder="主题">
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile [colspan]="1" [rowspan]="1" style="overflow: visible">

       <mat-form-field id="Des" class="example-full-width des">
          <input [formControl]="detail" matInput placeholder="描述">
       </mat-form-field>

        <demand-search
          id="Asc"
          class="asc"
          [demandList]="demandSearchList"
          [showDemandList]="showDemandList"
          (searchDemand)="searchDemand($event)"
          (chooseData)="chooseData($event)">

        </demand-search>

      </mat-grid-tile>

    </mat-grid-list>


    <!--<ckeditor [(ngModel)]="content" name="ckeditor" debounce="500" [config]="{height: '100'}">-->

    <!--</ckeditor>-->

    <mat-grid-list cols="1"  [rowHeight]="70" style="margin-top: 40px">

      <mat-grid-tile [rowspan]="1">
        <section class="example-section">

          <mat-form-field class="example-margin">
            <mat-select placeholder="选择" (change)="targetChanged($event)" [value]="target">
              <mat-option *ngFor="let target of targets" [value]="target.value">{{target.name}}</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field class="example-margin">

            <mat-select placeholder="状态" [(value)]="status">
              <mat-option [value]="'active'">Active(进行中)</mat-option>
              <mat-option [value]="'test'">Testing(测试中)</mat-option>
              <mat-option [value]="'fix'">Fixing(修复中)</mat-option>
              <mat-option [value]="'done'">Done(完成)</mat-option>
            </mat-select>

          </mat-form-field>
          <mat-form-field class="example-margin">

            <mat-select placeholder="优先级" [(value)]="level">
              <mat-option [value]="'low'">Low</mat-option>
              <mat-option [value]="'normal'">Normal</mat-option>
              <mat-option [value]="'high'">High</mat-option>
            </mat-select>

          </mat-form-field>
          <mat-form-field class="example-margin">

            <mat-select placeholder="指派给" [(value)]="assign">
              <mat-option *ngFor="let custom of assignCustom" [value]="custom.memberId">
                {{custom.username}}
              </mat-option>
            </mat-select>

          </mat-form-field>

      </section>
      </mat-grid-tile>

    </mat-grid-list>

    <mat-grid-list cols="1"  [rowHeight]="70" style="margin-top: 20px">

      <mat-grid-tile [rowspan]="1">

        <section class="example-section">
          <mat-form-field class="example-margin">

            <input matInput [value]="pickerStart"  [matDatepicker]="picker_Start" placeholder="开始日期">
            <mat-datepicker-toggle matSuffix [for]="picker_Start"></mat-datepicker-toggle>
            <mat-datepicker #picker_Start></mat-datepicker>

          </mat-form-field>
          <mat-form-field class="example-margin">

            <input matInput [value]="pickerEnd" [matDatepicker]="picker_End" placeholder="计划完成日期">
            <mat-datepicker-toggle matSuffix [for]="picker_End"></mat-datepicker-toggle>
            <mat-datepicker #picker_End></mat-datepicker>

          </mat-form-field>
          <mat-form-field class="example-margin">

            <input [formControl]="cost" matInput placeholder="预期时间（小时）">

          </mat-form-field>
          <mat-form-field class="example-margin">

            <input [formControl]="progress" matInput placeholder="完成度(%)">

          </mat-form-field>
        </section>

      </mat-grid-tile>
    </mat-grid-list>

    <hr style="margin-top: 20px"/>

    <mat-grid-list cols="1"  [rowHeight]="50" style="margin-top: 20px">
      <mat-grid-tile [rowspan]="1">
        <div style="float: left">
          <button mat-button type="submit" [disabled]="!form.valid" color="primary">创建</button>
        </div>
      </mat-grid-tile>
    </mat-grid-list>

  </form>
</div>
